<!doctype html>
<html lang="en" class="h-100">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Jekyll v4.0.1">
  <title>Krypton Token</title>

  <!-- Bootstrap core CSS -->
  <link href="libs/bootstrap/css/bootstrap.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="css/sticky-footer-navbar.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <style>
    .krtoken-contents::-webkit-scrollbar {
      display: none;
    }
  </style>
  <script type="text/javascript">


    function showEditor() {
      document.getElementById('item-subject-tf').value = '';
      document.getElementById('item-value-tf').value = '';
      document.getElementById('kr-item-editor-container').style.display = 'inline';
    }

    function hideEditor() {
      document.getElementById('kr-item-editor-container').style.display = 'none';
    }

    function gotoGuideScreen() {

      $('#token-guide-card').css({display: 'block'});
      $('#token-credential-card').css({display: 'none'});
    }

    function gotoCreateNewToken() {
      $('#entropy-salt-tf').val('');
      $('#passphrase-tf').val('');

      $('#token-guide-card').css({display: 'none'});
      $('#token-credential-card').css({display: 'block'});
      $('#token-credential-card-title').text('Create New Token');

      $('#token-credential-card-buttons').html('&nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-primary"\n' +
        '                    onclick="createClicked()" id="open-button">Create</button>&nbsp;&nbsp;&nbsp;&nbsp;\n' +
        '            <div id="open-indicator" class="spinner-border" role="status" style="color: #00aaff; display: none;">\n' +
        '              <span class="sr-only">Opening...</span>\n' +
        '            </div>\n' +
        '            <br />\n' +
        '            <a href="#" onclick="gotoGuideScreen(); return false;">Cancel</a>')
        // '            <a href="#" onclick="gotoOpenExistedToken(); return false;">I have a Krypton Token</a>')
    }

    function gotoOpenExistedToken() {
      $('#entropy-salt-tf').val('');
      $('#passphrase-tf').val('');

      $('#token-guide-card').css({display: 'none'});
      $('#token-credential-card').css({display: 'block'});
      $('#token-credential-card-title').text('Open Existing Token');

      $('#token-credential-card-buttons').html('&nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-primary"\n' +
        '                    onclick="openClicked()" id="open-button">Open</button>&nbsp;&nbsp;&nbsp;&nbsp;\n' +
        '            <div id="open-indicator" class="spinner-border" role="status" style="color: #00aaff; display: none;">\n' +
        '              <span class="sr-only">Opening...</span>\n' +
        '            </div>\n' +
        '            <br />\n' +
        '            <a href="#" onclick="gotoGuideScreen(); return false;">Cancel</a>')
        // '            <a href="#" onclick="gotoCreateNewToken(); return false;">I am New Here</a>')
    }
  </script>
</head>

<body class="d-flex flex-column h-100"
  style="background: #1EB0D7 url(img/bg.jpg) no-repeat; background-size: cover;">
<div style="position: absolute; left:0; right:0; top: 0; bottom: 0; background-color: white;z-index: 10000;" id="page-load-indicator">
  <!--<div class="spinner-grow text-info" role="status" style="width: 15rem; height: 15rem;">
    <span class="sr-only">Loading...</span>

  </div>-->
  <div style="position: absolute; top: calc(50% - 30px); width: 100%; text-align: center; height: 60px; line-height: 60px;">
    <div class="spinner-grow text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-success" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-danger" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <!--
    <div class="spinner-grow text-light" role="status">
      <span class="sr-only">Loading...</span>
    </div>-->
    <div class="spinner-grow text-warning" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <div class="spinner-grow text-info" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>
  <header>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top">
      <a class="navbar-brand" href="#">Krypton Token</a>
      <!--
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
        </li>
      </ul>
      <form class="form-inline mt-2 mt-md-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
    -->
    </nav>
  </header>

  <!-- Begin page content -->
  <!-- <main role="main" class="flex-shrink-0" style="background-color: blue; height: calc(100% - 112);">
  <div class="container" style="background-color: aqua;">
  </div>
</main> -->
  <main style="position: absolute; top: 56px; bottom: 56px; left: 0; right: 0; ">


    <div class="col-xl-3 col-lg-4" style="position: absolute; top: 0; bottom: 0; left: 0;" id="krypton-token-workspace">


      <!--login card-->
      <div class="card justify-content-center" style="width:100%;">
        <img class="card-img-top" src="img/title.jpg" alt="Card image" style="width:100%">
        <div class="card-body" id="token-guide-card">

          <h4 class="card-title" style="text-align: center;"><a href="https://ai-fi.net/help/anonymouscloudstorage.html#ai-fi-krypton-token-types" target="_blank">What's Krypton Token?</a></h4>
          <p class="card-text" style="text-align: center; line-height: 64px;">
            <button class="btn btn-success"
                    onclick="gotoCreateNewToken()" id="goto-create-button">Create New Token</button> <br />
            <button class="btn btn-primary"
                    onclick="gotoOpenExistedToken()" id="goto-open-button">Open Existing Token</button>
          </p>
        </div>
        <div class="card-body" style="display: none;" id="token-credential-card">
          <h4 class="card-title" id="token-credential-card-title">Create New Token</h4>

          <p class="card-text">

            <label for="entropy-salt-tf" class="sr-only">Entropy Salt</label>
            <input type="text" id="entropy-salt-tf" class="form-control" placeholder="Entropy Salt" required autofocus />
            <br />
            <label for="passphrase-tf" class="sr-only">Passphrase</label>
            <input type="password" id="passphrase-tf" class="form-control" placeholder="Passphrase" required />
          </p>
          <p style="text-align: center; line-height: 44px;" id="token-credential-card-buttons">
            <!--<button class="btn btn-primary"
                    onclick="openClicked()" id="open-button" disabled="disabled">Open</button>&nbsp;&nbsp;&nbsp;&nbsp;
            <div id="open-indicator" class="spinner-border" role="status" style="color: #00aaff; display: none;">
              <span class="sr-only">Opening...</span>
            </div>
            <br />
            <a href="#" onclick="gotoCreateNewToken(); return false;" id="create-button" disabled="disabled">Create New Token</a>-->
          </p>

        </div>
      </div>

      <!--list-->
      <div id="kr-item-list-container"
        style="position: absolute; top: 0; left: 15px; right: 15px; bottom: 0; z-index: 10; border: cornsilk solid 1px; border-radius: 4px; display: none;"
        class="bg-dark">
        <nav class="navbar navbar-dark">
          <a class="navbar-brand pull-left" href="#" onclick="document.getElementById('kr-item-list-container').style.display = 'none'; return false;"><i class="fa fa-chevron-left" aria-hidden="true"></i> <span class="sr-only"> </span> Back</a>
          <a class="navbar-brand pull-right" href="#">Content</a>
        </nav>
        <div
          style="position: absolute; top: 56px; left:15px; right: 15px; bottom: 59px; overflow-y: scroll; overflow-x: hidden;"
          class="krtoken-contents">
          <ul class="list-group" id="kr-item-list">
            <!--
            <li class="list-group-item" onclick="document.getElementById('kr-item-details').style.display = 'inline';"></li>
            -->
          </ul>
        </div>
        <div
          style="position: absolute; left: 15px; right: 15px; bottom: 15px; height: 44px; text-align: center; line-height: 44px;">
          <button class="btn btn-info"
            onclick="showEditor();">Add Entry</button>
        </div>
      </div>


      <!-- details-->
      <div id="kr-item-details-container"
        style="position: absolute; top: 0; left: 15px; right: 15px; bottom: 0; z-index: 20; border: cornsilk solid 1px; border-radius: 4px; display: none;"
        class="bg-dark">
        <nav class="navbar navbar-dark">
          <a class="navbar-brand pull-left" href="#" onclick="document.getElementById('kr-item-details-container').style.display = 'none'; return false;"><i class="fa fa-chevron-left" aria-hidden="true"></i> <span class="sr-only"> </span> Back</a>
          <a class="navbar-brand pull-right" href="#" id="kr-item-title">title</a>
        </nav>
        <div
          style="position: absolute; top: 56px; left:15px; right: 15px; bottom: 59px; overflow-y: scroll; overflow-x: hidden; word-wrap:break-word; color: #fff;"
          class="krtoken-contents" id="kr-item-details">
          No Content
        </div>
        <div
          style="position: absolute; left: 15px; right: 15px; bottom: 15px; height: 44px; text-align: center; line-height: 44px;"id="kr-item-footer">
          <!--<button class="btn btn-danger"
            onclick="document.getElementById('kr-item-details-container').style.display = 'none';">Back</button>-->
        </div>
      </div>


      <!-- editor-->
      <div id="kr-item-editor-container"
           style="position: absolute; top: 0; left: 15px; right: 15px; bottom: 0; z-index: 30; border: cornsilk solid 1px; border-radius: 4px; display: none;"
           class="bg-dark">
        <nav class="navbar navbar-dark">
          <a class="navbar-brand pull-left" href="#" onclick="hideEditor(); return false;"><i class="fa fa-chevron-left" aria-hidden="true"></i> <span class="sr-only"> </span> Back</a>

          <a class="navbar-brand pull-right" href="#">Add Entry</a>
        </nav>
        <div
          style="position: absolute; top: 56px; left:15px; right: 15px; bottom: 59px; overflow-y: scroll; overflow-x: hidden; word-wrap:break-word; color: #fff;"
          class="krtoken-contents">

          <p class="card-text">

            <label for="item-subject-tf" class="sr-only">Label</label>
            <input type="text" id="item-subject-tf" class="form-control" placeholder="Label" required autofocus />
            <br />
            <label for="item-value-tf" class="sr-only">Secret</label>
            <textarea id="item-value-tf" class="form-control" placeholder="Please enter your secret text here"></textarea>
          </p>

          <div style="text-align: center; line-height: 44px;">
            &nbsp;&nbsp;&nbsp;&nbsp;
            <button class="btn btn-primary"
                    onclick="saveClicked()" id="save-button">Save Entry</button>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <div id="save-indicator" class="spinner-border" role="status" style="color: #00aaff; display: none;">
              <span class="sr-only">Saving...</span>
            </div>
          </div>
        </div>


        </div>
        <div
          style="position: absolute; left: 15px; right: 15px; bottom: 15px; height: 44px; text-align: center; line-height: 44px;">
          <!--<button class="btn btn-danger"
                  onclick="document.getElementById('kr-item-editor-container').style.display = 'none';">Back</button>-->
        </div>
      </div>
    </div>
  </main>

  <footer class="footer mt-auto py-3" style="background: none;">
    <div class="container" style="text-align: center;">
      <span style="color: #fff;">Copyright © 2020. <a href="https://ai-fi.net" style="color: #fff;">Ai-Fi.net</a> All rights reserved.</span>
    </div>
  </footer>
  <script src="libs/jquery/jquery.js?v=1.2"></script>
  <script src="libs/bootstrap/js/bootstrap.bundle.js"></script>
  <script src="libs/bootstrap-notify/bootstrap-notify.min.js"></script>

  <!-- Thinbus SRP -->

  <!-- Include minimised Thinbus SRP JS crypo library -->
  <script src="libs/srp/thinbus-srp6a-min.js"></script>
  <!-- You must include a crypto configuration and it must match what the server is configured to use -->
  <script src="libs/srp/thinbus-srp6a-2048-sha256-min.js"></script>

  <script src="js/simple-password-meter.js"></script>


  <script src="js/base32.js"></script>
  <script src="js/blake2s.js"></script>
  <script src="js/scrypt.js"></script>
  <script src="js/supercop.js"></script>
  <script src="js/index.js"></script>
  <script src="libs/crypto-js-4.0.0/crypto-js.js"></script>
  <script src="js/restclient.js?v=1.2.10"></script>
  <script src="js/krtoken.js?v=1.2.10"></script>
  <script type="text/javascript">
    //var supercop = supercop_wasm;



    /*
    $(document).ready(function() {

      supercop.ready(function () {
        $('#open-button').removeAttr("disabled","");

        var seed = supercop.createSeed()
        var keys = supercop.createKeyPair(seed)
        var msg = (new TextEncoder("utf-8")).encode("hello there")
        var sig = supercop.sign(msg, keys.publicKey, keys.secretKey)
        console.log(supercop.verify(sig, msg, keys.publicKey)) // true
      });


    });
    */
  </script>
</body>

</html>

<!--

  https://github.com/tonyg/js-scrypt
  http://cryptocoinjs.com/modules/crypto/ecurve/
-->
